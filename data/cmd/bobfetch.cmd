@ECHO OFF
SET arg=%*
IF NOT DEFINED arg SET arg=0
ECHO.
ECHO(%arg% | FINDSTR /C:"/?">NUL && GOTO ?
SET CNT_cpu=0
SET CNT_gpu=0
ECHO(%arg% | FINDSTR /I /C:"/D">NUL && (
	FOR /F "SKIP=1 DELIMS=" %%A IN ('set cpu_name[') DO (
		SET /A CNT_gpu+=1
	)
	FOR /F "SKIP=1 DELIMS=" %%A IN ('wmic cpu get name ^| findstr /v "^$"') DO (
		SET /A CNT_cpu+=1
	)
) || (
ECHO.Getting System Information ...
FOR /F "tokens=1,2delims=:" %%A IN ('systeminfo ^| findstr /c:"OS Name" /c:"OS Version" /c:"Available Physical Memory" /c:"System Type" /c:"System Manufacturer" /c:"System Model" /c:"Total Physical Memory"') DO (
  IF "%%A"=="OS Name" SET "os_name=%%B"
  IF "%%A"=="OS Version" SET "os_version=%%B"
  IF "%%A"=="System Type" FOR /F "tokens=1delims=-" %%G IN ("%%B") DO SET "system_type= %%G"
  IF "%%A"=="System Manufacturer" SET "system_manufacturer=%%B"
  IF "%%A"=="System Model" SET "system_model=%%B"
  IF "%%A"=="Total Physical Memory" SET "total_memory= %%B"
  IF "%%A"=="Available Physical Memory" SET "available_memory=%%B"
)
SET cmd_memory=0
FOR /F "skip=1 tokens=2 delims=," %%I IN ('tasklist /Fi "imagename eq cmd.exe" /Fo csv ^| findstr /r "cmd.exe"') DO (
	SET "GET_CMD_MEMORY=%%I"
	CALL SET /A cmd_memory+=%%GET_CMD_MEMORY:"=%%
)
FOR /F "SKIP=1 DELIMS=" %%A IN ('wmic path win32_VideoController get name ^| findstr /v "^$"') DO (
    SET /A CNT_gpu+=1
    CALL SET "gpu_name[%%CNT_gpu%%]=%%A"
)
FOR /F "SKIP=1 DELIMS=" %%A IN ('wmic cpu get name ^| findstr /v "^$"') DO (
    SET /A CNT_cpu+=1
    CALL SET "cpu_name[%%CNT_cpu%%]=%%A"
)
FOR /F "DELIMS=" %%A IN ('tasklist /nh ^| find /c /v ""') DO SET cpu_proc=%%A
FOR /F %%I IN ('hostname') DO SET "device_name=%%I"
)

(SET BOBFETCH_LINES=
SET ALT=%device_name%@%USERNAME%)
:ALT
(SET BOBFETCH_LINES=%BOBFETCH_LINES%-
SET ALT=%ALT:~0,-1%)
IF DEFINED ALT GOTO ALT

SET system_modelmanuf=%system_model:  =% %system_manufacturer:  =%
(ECHO.[1A                                       [38;2;14;14;14m [38;2;25;25;25m [38;2;25;25;25m [38;2;9;9;9m [s
ECHO.                                 [38;2;25;25;25m [38;2;75;75;75m'[38;2;120;120;120mc[38;2;157;157;157mx[38;2;190;190;190mO[38;2;219;219;219mX[38;2;241;241;241mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;237;237;237mN[38;2;195;195;195m0[38;2;93;93;93m;[38;2;1;1;1m 
ECHO.                              [38;2;9;9;9m [38;2;134;134;134mo[38;2;202;202;202m0[38;2;239;239;239mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;223;223;223mX[38;2;174;174;174mk[38;2;144;144;144mo[38;2;150;150;150md[38;2;224;224;224mX[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;59;59;59m.
ECHO.                     [38;2;4;8;8m [38;2;19;43;43m.[38;2;31;69;69m.[38;2;40;89;89m'[38;2;45;101;101m,[38;2;45;101;101m,[38;2;43;97;97m,[38;2;34;75;75m.[38;2;18;40;40m.[38;2;2;3;3m [38;2;48;48;48m.[38;2;200;200;200m0[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;233;233;233mN[38;2;65;65;65m'  [38;2;19;19;19m [38;2;174;174;174mk[38;2;242;242;242mW[38;2;242;242;242mW[38;2;228;228;228mN[38;2;36;36;36m.
ECHO.                  [38;2;13;30;30m [38;2;46;102;102m,[38;2;72;159;159ml[38;2;92;204;204mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;47;104;104m, [38;2;11;11;11m [38;2;130;130;130ml[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;104;104;104m:[38;2;108;108;108m:[38;2;160;160;160mx[38;2;226;226;226mN[38;2;242;242;242mW[38;2;242;242;242mW[38;2;221;221;221mX[38;2;55;55;55m.
ECHO.                [38;2;5;10;10m [38;2;53;118;118m:[38;2;93;207;207mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;95;212;212mk[38;2;79;176;176md[38;2;63;140;140mc[38;2;56;124;124m:[38;2;63;140;140mc[38;2;85;189;189mx[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;91;203;203mk[38;2;25;55;55m. [38;2;152;152;152md[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;241;241;241mW[38;2;224;224;224mX[38;2;236;236;236mN[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;194;194;194m0[38;2;13;13;13m 
ECHO.    [38;2;4;12;17m [38;2;14;37;55m.[38;2;23;59;86m.[38;2;30;79;115m'[38;2;37;97;142m,[38;2;42;108;158m;[38;2;43;111;163m;[38;2;42;108;158m;[38;2;35;92;135m,[38;2;21;54;79m.[38;2;2;5;7m [38;2;7;16;16m [38;2;74;164;164mo[38;2;96;214;214mk[38;2;96;214;214mk[38;2;94;209;209mk[38;2;54;121;121m:[38;2;13;28;28m     [38;2;24;54;54m.[38;2;78;173;173md[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;69;154;154ml [38;2;186;186;186mO[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;99;99;99m:[38;2;21;21;21m  [38;2;14;14;14m [38;2;194;194;194m0[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;42;42;42m.
ECHO.[38;2;7;19;28m [38;2;22;58;85m.[38;2;35;91;134m,[38;2;48;126;184m:[38;2;57;149;218ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;56;145;213ml[38;2;52;135;198mc[38;2;56;147;215ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;36;93;136m,[38;2;51;114;114m;[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;39;86;86m'       [38;2;14;32;32m [38;2;94;211;211mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;86;193;193mx [38;2;194;194;194m0[38;2;242;242;242mW[38;2;242;242;242mW[38;2;233;233;233mN[38;2;19;19;19m [38;2;24;24;24m [38;2;82;82;82m,[38;2;172;172;172mk[38;2;241;241;241mW[38;2;242;242;242mW[38;2;239;239;239mW[38;2;132;132;132ml[38;2;1;1;1m 
ECHO.[38;2;8;21;31m [38;2;44;114;167m:[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;48;124;182m:[38;2;12;30;44m [38;2;2;6;8m  [38;2;8;19;29m [38;2;55;143;209ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;43;112;164m;[38;2;67;150;150ml[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;13;29;29m        [38;2;11;25;25m [38;2;94;208;208mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;79;176;176md [38;2;194;194;194m0[38;2;242;242;242mW[38;2;242;242;242mW[38;2;237;237;237mN[38;2;209;209;209mK[38;2;241;241;241mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;229;229;229mN[38;2;162;162;162mx[38;2;57;57;57m.
ECHO. [38;2;1;4;5m [38;2;24;63;92m.[38;2;51;133;194mc[38;2;58;151;221ml[38;2;58;151;221ml[38;2;42;110;161m;[38;2;1;3;4m [38;2;11;28;41m [38;2;27;69;101m.[38;2;49;126;185m:[38;2;58;151;221ml[38;2;58;151;221ml[38;2;51;132;194mc[38;2;13;33;48m [38;2;46;103;103m,[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;55;121;121m:[38;2;2;3;3m      [38;2;6;14;14m [38;2;65;145;145mc[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;213;213mk[38;2;36;81;81m' [38;2;189;189;189mO[38;2;242;242;242mW[38;2;242;242;242mW[38;2;242;242;242mW[38;2;217;217;217mX[38;2;163;163;163mx[38;2;110;110;110m:[38;2;57;57;57m.[38;2;9;9;9m 
ECHO.  [38;2;3;8;12m [38;2;55;144;211ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;55;143;209ml[38;2;54;141;207ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;45;117;171m:[38;2;12;31;45m [38;2;5;10;10m [38;2;69;153;153ml[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;77;171;171mo[38;2;43;97;97m,[38;2;27;61;61m.[38;2;25;56;56m.[38;2;35;78;78m'[38;2;57;126;126m:[38;2;88;195;195mx[38;2;96;214;214mk[38;2;96;214;214mk[38;2;90;202;202mk[38;2;39;88;88m'  [38;2;132;132;132ml[38;2;146;146;146md[38;2;92;92;92m;[38;2;41;41;41m.[38;2;3;3;3m 
ECHO.   [38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;53;139;204mc[38;2;32;82;120m'[38;2;24;61;90m.[38;2;20;52;77m.[38;2;33;87;127m'[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;39;101;148m; [38;2;2;5;5m [38;2;45;99;99m,[38;2;87;194;194mx[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;96;214;214mk[38;2;95;213;213mk[38;2;79;176;176md[38;2;46;103;103m,[38;2;8;19;19m 
ECHO.  [38;2;17;45;66m.[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;38;99;145m,  [38;2;9;24;35m [38;2;35;91;133m,[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;26;68;99m.   [38;2;3;8;8m [38;2;25;55;55m.[38;2;41;92;92m,[38;2;51;115;115m;[38;2;53;118;118m;[38;2;51;113;113m;[38;2;43;95;95m,[38;2;28;63;63m.[38;2;11;24;24m 
ECHO.  [38;2;17;45;66m.[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;43;113;165m;[38;2;36;94;137m,[38;2;47;123;180m:[38;2;58;150;220ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;47;122;178m:[38;2;20;51;75m.[38;2;0;1;1m 
ECHO.  [38;2;17;45;66m.[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;58;151;221ml[38;2;52;135;198mc[38;2;39;102;149m;[38;2;27;70;102m.[38;2;13;33;49m.[38;2;0;1;1m 
ECHO.  [38;2;13;33;48m [38;2;57;149;219ml[38;2;48;125;184m:[38;2;35;91;134m,[38;2;23;59;86m.[38;2;10;26;38m [38;2;1;2;2m 
ECHO.  [38;2;2;5;7m [38;2;6;16;23m [0m)

ECHO(%arg% | FINDSTR /I /C:"/H">NUL && (ECHO.[s[16A[50C[38;2;76;190;224mDESKTOP-PC[37;0m@[38;2;117;223;255mUser[0m) || ECHO.[s[16A[50C[38;2;76;190;224m%device_name%[37;0m@[38;2;117;223;255m%USERNAME%[0m
ECHO.[50C[37;0m%BOBFETCH_LINES%[0m
IF DEFINED os_name ECHO.[50C[38;2;109;253;118mOS[37;1m: %os_name:  =% %system_type:  =%[0m
IF DEFINED os_version ECHO.[50C[38;2;109;253;118mVer[37;1m: %os_version:  =%[0m
IF DEFINED vercode ECHO.[50C[38;2;109;253;118mGame[37;1m: %VERTYPE%-%VERCODE%[0m
IF DEFINED system_model ECHO.[50C[38;2;109;253;118mSystem Model[37;1m: %system_modelmanuf:  =, %[0m
IF DEFINED cpu_name[1] (
	SETLOCAL ENABLEDELAYEDEXPANSION
	FOR /L %%A IN (1,1,%CNT_cpu%) DO (
		ECHO.[50C[38;2;109;253;118mCPU-%%A[37;1m: !cpu_name[%%A]:  =![0m ^(%cpu_proc% Processes^)
	)
	ENDLOCAL
)
IF DEFINED gpu_name[1] (
	SETLOCAL ENABLEDELAYEDEXPANSION
	FOR /L %%A IN (1,1,%CNT_gpu%) DO (
		ECHO.[50C[38;2;109;253;118mGPU-%%A[37;1m: !gpu_name[%%A]:  =![0m
	)
	ENDLOCAL
)
IF DEFINED WT_SESSION ECHO.[50C[38;2;109;253;118mWT Session[37;1m: %WT_SESSION%[0m
IF DEFINED cmd_memory ECHO.[50C[38;2;109;253;118mCommand Memory[37;1m: %cmd_memory% K[0m
IF DEFINED available_memory ECHO.[50C[38;2;109;253;118mDevice Memory[37;1m: %available_memory:  =%[0m available of [37;1m%total_memory:  =%[0m
ECHO.
ECHO(%arg% | FINDSTR /I /C:"/C">NUL && (
	ECHO.[50C[40m   [41m   [42m   [43m   [44m   [45m   [46m   [47m   [0m
	ECHO.[50C[39m   [0m[41;1m   [42;1m   [43;1m   [44;1m   [45;1m   [46;1m   [47;1m   [0m
) || (
	ECHO.[50C[30m███[31m███[32m███[33m███[34m███[35m███[36m███[37m███[0m
	ECHO.[50C[30;1m███[31;1m███[32;1m███[33;1m███[34;1m███[35;1m███[36;1m███[37;1m███[0m
)
ECHO.[u
ECHO ON
@EXIT /B 0

:?
ECHO.Use bobfetch to get information about the game and your device.
ECHO.
ECHO.You can use the following switches after the command:
ECHO.  /?     Show this help menu.
ECHO.  /H     Hide username and hostname information.
ECHO.  /C     Convert foreground test colors to background test colors.
ECHO.  /D     Don't get system information. This allows you to edit the
ECHO.         information using the set command, more is explained below.
ECHO.
ECHO.Before using the /D switch, you can edit the following variables:
ECHO.  os_name, os_version, system_type, system_model, system_manufacturer,
ECHO.  cpu_name[1], cpu_proc, gpu_name[1], cmd_memory, available_memory,
ECHO.  device_name, total_memory
ECHO.Example: set system_type=x32-based PC
ECHO ON
@EXIT /B 0