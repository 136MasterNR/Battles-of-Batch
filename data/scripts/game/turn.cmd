IF NOT DEFINED VERCODE EXIT
SET ARG=%1
IF NOT DEFINED ARG ( CALL :TURN ) ELSE CALL :%ARG% %2
EXIT /B 0

:TURN
IF NOT DEFINED TURNS (SET TURNS=0&SET ROUNDS=0)
SET /A TURNS+=1
SET /A CHECK=%TURNS% %% %EN.MAX%
IF %CHECK%==1 SET /A ROUNDS+=1
EXIT /B 0

:AV-SINGLE
SET /A %1-=10
SETLOCAL ENABLEDELAYEDEXPANSION
IF !%1! LSS 0 (
	ENDLOCAL
	SET /A %1+=50
)
EXIT /B 0

:AV
FOR /F "TOKENS=1,2DELIMS==" %%1 IN ('SET AV.') DO (
	SET /A %%1 = %%2-5
	CALL :AV-IF %%1 %%2
)
EXIT /B 0
:AV-IF
IF %2 LSS 0 (
	SET /A NEW=0
)
IF %2 LSS 0 (
	SET %1=%NEW%
)
EXIT /B 0

:ACT
SET CURR.TURN=NONE
SET EXIT=
FOR /F "TOKENS=1,2DELIMS==" %%1 IN ('SET AV.') DO (
	CALL :ACT-IF %%1 %%2
	%EXIT%
)
EXIT /B 0
:ACT-IF
SETLOCAL ENABLEDELAYEDEXPANSION
IF %2 EQU 0 (
	SET CURR.TURN=%1
	SET EXIT=EXIT /B 0
)
ENDLOCAL&SET CURR.TURN=%CURR.TURN%
EXIT /B 0